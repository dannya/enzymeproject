!function(e,t){function n(){for(var e,t,n,i,r,o,a,l,s=G.errorInfo,u=G.plugins,c=0;c<G.gallery.length;++c){switch(e=G.gallery[c],t=!1,n=null,e.player){case"flv":case"swf":u.fla||(n="fla");break;case"qt":u.qt||(n="qt");break;case"wmp":G.isMac?u.qt&&u.f4m?e.player="qt":n="qtf4m":u.wmp||(n="wmp");break;case"qtwmp":u.qt?e.player="qt":u.wmp?e.player="wmp":n="qtwmp"}if(n)if("link"==G.options.handleUnsupported){switch(n){case"qtf4m":r="shared",o=[s.qt.url,s.qt.name,s.f4m.url,s.f4m.name];break;case"qtwmp":r="either",o=[s.qt.url,s.qt.name,s.wmp.url,s.wmp.name];break;default:r="single",o=[s[n].url,s[n].name]}e.player="html",e.content='<div class="sb-message">'+d(G.lang.errors[r],o)+"</div>"}else t=!0;else"inline"==e.player?(i=X.exec(e.content),i?(a=h(i[1]),a?e.content=a.innerHTML:t=!0):t=!0):("swf"==e.player||"flv"==e.player)&&(l=e.options&&e.options.flashVersion||G.options.flashVersion,G.flash&&!G.flash.hasFlashPlayerVersion(l)&&(e.width=310,e.height=177));t&&(G.gallery.splice(c,1),c<G.current?--G.current:c==G.current&&(G.current=c>0?c-1:c),--c)}}function i(e){G.options.enableKeys&&(e?w:x)(document,"keydown",r)}function r(e){if(!(e.metaKey||e.shiftKey||e.altKey||e.ctrlKey)){var t,n=b(e);switch(n){case 81:case 88:case 27:t=G.close;break;case 37:t=G.previous;break;case 39:t=G.next;break;case 32:t="number"==typeof K?G.pause:G.play}t&&(g(e),t())}}function o(e){i(!1);var t=G.getCurrent(),n="inline"==t.player?"html":t.player;if("function"!=typeof G[n])throw"unknown player "+n;if(e&&(G.player.remove(),G.revertOptions(),G.applyOptions(t.options||{})),G.player=new G[n](t,G.playerId),G.gallery.length>1){var r=G.gallery[G.current+1]||G.gallery[0];if("img"==r.player){var o=new Image;o.src=r.content}var l=G.gallery[G.current-1]||G.gallery[G.gallery.length-1];if("img"==l.player){var s=new Image;s.src=l.content}}G.skin.onLoad(e,a)}function a(){if(Z)if("undefined"!=typeof G.player.ready)var e=setInterval(function(){Z?G.player.ready&&(clearInterval(e),e=null,G.skin.onReady(l)):(clearInterval(e),e=null)},10);else G.skin.onReady(l)}function l(){Z&&(G.player.append(G.skin.body,G.dimensions),G.skin.onShow(s))}function s(){Z&&(G.player.onLoad&&G.player.onLoad(),G.options.onFinish(G.getCurrent()),G.isPaused()||G.play(),i(!0))}function u(){return(new Date).getTime()}function c(e,t){for(var n in t)e[n]=t[n];return e}function f(e,t){for(var n=0,i=e.length,r=e[0];i>n&&t.call(r,n,r)!==!1;r=e[++n]);}function d(e,t){return e.replace(/\{(\w+?)\}/g,function(e,n){return t[n]})}function p(){}function h(e){return document.getElementById(e)}function v(e){e.parentNode.removeChild(e)}function m(){var e=document.body,t=document.createElement("div");it="string"==typeof t.style.opacity,t.style.position="fixed",t.style.margin=0,t.style.top="20px",e.appendChild(t,e.firstChild),rt=20==t.offsetTop,e.removeChild(t)}function y(e){var t=e.pageX||e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),n=e.pageY||e.clientY+(document.documentElement.scrollTop||document.body.scrollTop);return[t,n]}function g(e){e.preventDefault()}function b(e){return e.which?e.which:e.keyCode}function w(t,n,i){if(t.addEventListener)t.addEventListener(n,i,!1);else{if(3===t.nodeType||8===t.nodeType)return;t.setInterval&&t!==e&&!t.frameElement&&(t=e),i.__guid||(i.__guid=w.guid++),t.events||(t.events={});var r=t.events[n];r||(r=t.events[n]={},t["on"+n]&&(r[0]=t["on"+n])),r[i.__guid]=i,t["on"+n]=w.handleEvent}}function x(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.events&&e.events[t]&&delete e.events[t][n.__guid]}function T(){if(!at){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(T,1)}G.load()}}function k(){if("complete"===document.readyState)return G.load();if(document.addEventListener)document.addEventListener("DOMContentLoaded",ot,!1),e.addEventListener("load",G.load,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",ot),e.attachEvent("onload",G.load);var t=!1;try{t=null===e.frameElement}catch(n){}document.documentElement.doScroll&&t&&T()}}function C(e){G.open(this),G.gallery.length&&g(e)}function E(){ht={x:0,y:0,startX:null,startY:null}}function O(){var e=G.dimensions;c(vt.style,{height:e.innerHeight+"px",width:e.innerWidth+"px"})}function S(){E();var e=["position:absolute","cursor:"+(G.isGecko?"-moz-grab":"move"),"background-color:"+(G.isIE?"#fff;filter:alpha(opacity=0)":"transparent")].join(";");G.appendHTML(G.skin.body,'<div id="'+yt+'" style="'+e+'"></div>'),vt=h(yt),O(),w(vt,"mousedown",I)}function L(){vt&&(x(vt,"mousedown",I),v(vt),vt=null),mt=null}function I(e){g(e);var t=y(e);ht.startX=t[0],ht.startY=t[1],mt=h(G.player.id),w(document,"mousemove",D),w(document,"mouseup",N),G.isGecko&&(vt.style.cursor="-moz-grabbing")}function D(e){var t=G.player,n=G.dimensions,i=y(e),r=i[0]-ht.startX;ht.startX+=r,ht.x=Math.max(Math.min(0,ht.x+r),n.innerWidth-t.width);var o=i[1]-ht.startY;ht.startY+=o,ht.y=Math.max(Math.min(0,ht.y+o),n.innerHeight-t.height),c(mt.style,{left:ht.x+"px",top:ht.y+"px"})}function N(){x(document,"mousemove",D),x(document,"mouseup",N),G.isGecko&&(vt.style.cursor="-moz-grab")}function A(e,t,n,i,r){var o="opacity"==t,a=o?G.setOpacity:function(e,n){e.style[t]=""+n+"px"};if(0==i||!o&&!G.options.animate||o&&!G.options.animateFade)return a(e,n),void(r&&r());var l=parseFloat(G.getStyle(e,t))||0,s=n-l;if(0==s)return void(r&&r());i*=1e3;var c,f=u(),d=G.ease,p=f+i,h=setInterval(function(){c=u(),c>=p?(clearInterval(h),h=null,a(e,n),r&&r()):a(e,l+d((c-f)/i)*s)},10)}function M(){gt.style.height=G.getWindowSize("Height")+"px",gt.style.width=G.getWindowSize("Width")+"px"}function F(){gt.style.top=document.documentElement.scrollTop+"px",gt.style.left=document.documentElement.scrollLeft+"px"}function z(e){e?f(Tt,function(e,t){t[0].style.visibility=t[1]||""}):(Tt=[],f(G.options.troubleElements,function(e,t){f(document.getElementsByTagName(t),function(e,t){Tt.push([t,t.style.visibility]),t.style.visibility="hidden"})}))}function H(e,t){var n=h("sb-nav-"+e);n&&(n.style.display=t?"":"none")}function P(e,t){var n=h("sb-loading"),i=G.getCurrent().player,r="img"==i||"html"==i;if(e){G.setOpacity(n,0),n.style.display="block";var o=function(){G.clearOpacity(n),t&&t()};r?A(n,"opacity",1,G.options.fadeDuration,o):o()}else{var o=function(){n.style.display="none",G.clearOpacity(n),t&&t()};r?A(n,"opacity",0,G.options.fadeDuration,o):o()}}function q(e){var t=G.getCurrent();h("sb-title-inner").innerHTML=t.title||"";var n,i,r,o,a;if(G.options.displayNav){n=!0;var l=G.gallery.length;l>1&&(G.options.continuous?i=a=!0:(i=l-1>G.current,a=G.current>0)),G.options.slideshowDelay>0&&G.hasNext()&&(o=!G.isPaused(),r=!o)}else n=i=r=o=a=!1;H("close",n),H("next",i),H("play",r),H("pause",o),H("previous",a);var s="";if(G.options.displayCounter&&G.gallery.length>1){var l=G.gallery.length;if("skip"==G.options.counterType){var u=0,c=l,f=parseInt(G.options.counterLimit)||0;if(l>f&&f>2){var d=Math.floor(f/2);u=G.current-d,0>u&&(u+=l),c=G.current+(f-d),c>l&&(c-=l)}for(;u!=c;)u==l&&(u=0),s+='<a onclick="Shadowbox.change('+u+');"',u==G.current&&(s+=' class="sb-counter-current"'),s+=">"+ ++u+"</a>"}else s=[G.current+1,G.lang.of,l].join(" ")}h("sb-counter").innerHTML=s,e()}function W(e){var t=h("sb-title-inner"),n=h("sb-info-inner"),i=.35;t.style.visibility=n.style.visibility="",""!=t.innerHTML&&A(t,"marginTop",0,i),A(n,"marginTop",0,i,e)}function B(e,t){var n=h("sb-title"),i=h("sb-info"),r=n.offsetHeight,o=i.offsetHeight,a=h("sb-title-inner"),l=h("sb-info-inner"),s=e?.35:0;A(a,"marginTop",r,s),A(l,"marginTop",-1*o,s,function(){a.style.visibility=l.style.visibility="hidden",t()})}function R(e,t,n,i){var r=h("sb-wrapper-inner"),o=n?G.options.resizeDuration:0;A(wt,"top",t,o),A(r,"height",e,o,i)}function j(e,t,n,i){var r=n?G.options.resizeDuration:0;A(wt,"left",t,r),A(wt,"width",e,r,i)}function _(e,t){var n=h("sb-body-inner"),e=parseInt(e),t=parseInt(t),i=wt.offsetHeight-n.offsetHeight,r=wt.offsetWidth-n.offsetWidth,o=bt.offsetHeight,a=bt.offsetWidth,l=parseInt(G.options.viewportPadding)||20,s=G.player&&"drag"!=G.options.handleOversize;return G.setDimensions(e,t,o,a,i,r,l,s)}var G={version:"3.0.3"},V=navigator.userAgent.toLowerCase();V.indexOf("windows")>-1||V.indexOf("win32")>-1?G.isWindows=!0:V.indexOf("macintosh")>-1||V.indexOf("mac os x")>-1?G.isMac=!0:V.indexOf("linux")>-1&&(G.isLinux=!0),G.isIE=V.indexOf("msie")>-1,G.isIE6=V.indexOf("msie 6")>-1,G.isIE7=V.indexOf("msie 7")>-1,G.isGecko=V.indexOf("gecko")>-1&&-1==V.indexOf("safari"),G.isWebKit=V.indexOf("applewebkit/")>-1;var Y,K,X=/#(.+)$/,U=/^(light|shadow)box\[(.*?)\]/i,$=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,Q=/[0-9a-z]+$/i,J=/(.+\/)shadowbox\.js/i,Z=!1,et=!1,tt={},nt=0;G.current=-1,G.dimensions=null,G.ease=function(e){return 1+Math.pow(e-1,3)},G.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"},wmp:{name:"Windows Media Player",url:"http://www.microsoft.com/windows/windowsmedia/"},f4m:{name:"Flip4Mac",url:"http://www.flip4mac.com/wmv_download.htm"}},G.gallery=[],G.onReady=p,G.path=null,G.player=null,G.playerId="sb-player",G.options={animate:!0,animateFade:!0,autoplayMovies:!0,continuous:!1,enableKeys:!0,flashParams:{bgcolor:"#000000",allowfullscreen:!0},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",onChange:p,onClose:p,onFinish:p,onOpen:p,showMovieControls:!0,skipSetup:!1,slideshowDelay:0,viewportPadding:20},G.getCurrent=function(){return G.current>-1?G.gallery[G.current]:null},G.hasNext=function(){return G.gallery.length>1&&(G.current!=G.gallery.length-1||G.options.continuous)},G.isOpen=function(){return Z},G.isPaused=function(){return"pause"==K},G.applyOptions=function(e){tt=c({},G.options),c(G.options,e)},G.revertOptions=function(){c(G.options,tt)},G.init=function(e,t){if(!et){if(et=!0,G.skin.options&&c(G.options,G.skin.options),e&&c(G.options,e),!G.path)for(var n,i=document.getElementsByTagName("script"),r=0,o=i.length;o>r;++r)if(n=J.exec(i[r].src)){G.path=n[1];break}t&&(G.onReady=t),k()}},G.open=function(e){if(!Z){var t=G.makeGallery(e);if(G.gallery=t[0],G.current=t[1],e=G.getCurrent(),null!=e&&(G.applyOptions(e.options||{}),n(),G.gallery.length)){if(e=G.getCurrent(),G.options.onOpen(e)===!1)return;Z=!0,G.skin.onOpen(e,o)}}},G.close=function(){Z&&(Z=!1,G.player&&(G.player.remove(),G.player=null),"number"==typeof K&&(clearTimeout(K),K=null),nt=0,i(!1),G.options.onClose(G.getCurrent()),G.skin.onClose(),G.revertOptions())},G.play=function(){G.hasNext()&&(nt||(nt=1e3*G.options.slideshowDelay),nt&&(Y=u(),K=setTimeout(function(){nt=Y=0,G.next()},nt),G.skin.onPlay&&G.skin.onPlay()))},G.pause=function(){"number"==typeof K&&(nt=Math.max(0,nt-(u()-Y)),nt&&(clearTimeout(K),K="pause",G.skin.onPause&&G.skin.onPause()))},G.change=function(e){if(!(e in G.gallery)){if(!G.options.continuous)return;if(e=0>e?G.gallery.length+e:0,!(e in G.gallery))return}G.current=e,"number"==typeof K&&(clearTimeout(K),K=null,nt=Y=0),G.options.onChange(G.getCurrent()),o(!0)},G.next=function(){G.change(G.current+1)},G.previous=function(){G.change(G.current-1)},G.setDimensions=function(e,t,n,i,r,o,a,l){var s=e,u=t,c=2*a+r;e+c>n&&(e=n-c);var f=2*a+o;t+f>i&&(t=i-f);var d=(s-e)/s,p=(u-t)/u,h=d>0||p>0;return l&&h&&(d>p?t=Math.round(u/s*e):p>d&&(e=Math.round(s/u*t))),G.dimensions={height:e+r,width:t+o,innerHeight:e,innerWidth:t,top:Math.floor((n-(e+c))/2+a),left:Math.floor((i-(t+f))/2+a),oversized:h},G.dimensions},G.makeGallery=function(e){var t=[],n=-1;if("string"==typeof e&&(e=[e]),"number"==typeof e.length)f(e,function(e,n){t[e]=n.content?n:{content:n}}),n=0;else{if(e.tagName){var i=G.getCache(e);e=i?i:G.makeObject(e)}if(e.gallery){t=[];var r;for(var o in G.cache)r=G.cache[o],r.gallery&&r.gallery==e.gallery&&(-1==n&&r.content==e.content&&(n=t.length),t.push(r));-1==n&&(t.unshift(e),n=0)}else t=[e],n=0}return f(t,function(e,n){t[e]=c({},n)}),[t,n]},G.makeObject=function(e,t){var n={content:e.href,title:e.getAttribute("title")||"",link:e};t?(t=c({},t),f(["player","title","height","width","gallery"],function(e,i){"undefined"!=typeof t[i]&&(n[i]=t[i],delete t[i])}),n.options=t):n.options={},n.player||(n.player=G.getPlayer(n.content));var i=e.getAttribute("rel");if(i){var r=i.match(U);r&&(n.gallery=escape(r[2])),f(i.split(";"),function(e,t){r=t.match($),r&&(n[r[1]]=r[2])})}return n},G.getPlayer=function(e){if(e.indexOf("#")>-1&&0==e.indexOf(document.location.href))return"inline";var t=e.indexOf("?");t>-1&&(e=e.substring(0,t));var n,i=e.match(Q);if(i&&(n=i[0].toLowerCase()),n){if(G.img&&G.img.ext.indexOf(n)>-1)return"img";if(G.swf&&G.swf.ext.indexOf(n)>-1)return"swf";if(G.flv&&G.flv.ext.indexOf(n)>-1)return"flv";if(G.qt&&G.qt.ext.indexOf(n)>-1)return G.wmp&&G.wmp.ext.indexOf(n)>-1?"qtwmp":"qt";if(G.wmp&&G.wmp.ext.indexOf(n)>-1)return"wmp"}return"iframe"},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=this.length>>>0;for(t=t||0,0>t&&(t+=n);n>t;++t)if(t in this&&this[t]===e)return t;return-1});var it=!0,rt=!0;G.getStyle=function(){var e=/opacity=([^)]*)/,t=document.defaultView&&document.defaultView.getComputedStyle;return function(n,i){var r;if(!it&&"opacity"==i&&n.currentStyle)return r=e.test(n.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"",""===r?"1":r;if(t){var o=t(n,null);o&&(r=o[i]),"opacity"==i&&""==r&&(r="1")}else r=n.currentStyle[i];return r}}(),G.appendHTML=function(e,t){if(e.insertAdjacentHTML)e.insertAdjacentHTML("BeforeEnd",t);else if(e.lastChild){var n=e.ownerDocument.createRange();n.setStartAfter(e.lastChild);var i=n.createContextualFragment(t);e.appendChild(i)}else e.innerHTML=t},G.getWindowSize=function(e){return"CSS1Compat"===document.compatMode?document.documentElement["client"+e]:document.body["client"+e]},G.setOpacity=function(e,t){var n=e.style;it?n.opacity=1==t?"":t:(n.zoom=1,1==t?"string"==typeof n.filter&&/alpha/i.test(n.filter)&&(n.filter=n.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")):n.filter=(n.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+100*t+")")},G.clearOpacity=function(e){G.setOpacity(e,1)},w.guid=1,w.handleEvent=function(t){var n=!0;t=t||w.fixEvent(((this.ownerDocument||this.document||this).parentWindow||e).event);var i=this.events[t.type];for(var r in i)this.__handleEvent=i[r],this.__handleEvent(t)===!1&&(n=!1);return n},w.preventDefault=function(){this.returnValue=!1},w.stopPropagation=function(){this.cancelBubble=!0},w.fixEvent=function(e){return e.preventDefault=w.preventDefault,e.stopPropagation=w.stopPropagation,e};var ot,at=!1;if(document.addEventListener?ot=function(){document.removeEventListener("DOMContentLoaded",ot,!1),G.load()}:document.attachEvent&&(ot=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",ot),G.load())}),G.load=function(){if(!at){if(!document.body)return setTimeout(G.load,13);at=!0,m(),G.onReady(),G.options.skipSetup||G.setup(),G.skin.init()}},G.plugins={},navigator.plugins&&navigator.plugins.length){var lt=[];f(navigator.plugins,function(e,t){lt.push(t.name)}),lt=lt.join(",");var st=lt.indexOf("Flip4Mac")>-1;G.plugins={fla:lt.indexOf("Shockwave Flash")>-1,qt:lt.indexOf("QuickTime")>-1,wmp:!st&&lt.indexOf("Windows Media")>-1,f4m:st}}else{var ut=function(e){var t;try{t=new ActiveXObject(e)}catch(n){}return!!t};G.plugins={fla:ut("ShockwaveFlash.ShockwaveFlash"),qt:ut("QuickTime.QuickTime"),wmp:ut("wmplayer.ocx"),f4m:!1}}var ct=/^(light|shadow)box/i,ft="shadowboxCacheKey",dt=1;G.cache={},G.select=function(e){var t=[];if(e){var n=e.length;if(n)if("string"==typeof e)G.find&&(t=G.find(e));else if(2==n&&"string"==typeof e[0]&&e[1].nodeType)G.find&&(t=G.find(e[0],e[1]));else for(var i=0;n>i;++i)t[i]=e[i];else t.push(e)}else{var r;f(document.getElementsByTagName("a"),function(e,n){r=n.getAttribute("rel"),r&&ct.test(r)&&t.push(n)})}return t},G.setup=function(e,t){f(G.select(e),function(e,n){G.addCache(n,t)})},G.teardown=function(e){f(G.select(e),function(e,t){G.removeCache(t)})},G.addCache=function(e,n){var i=e[ft];i==t&&(i=dt++,e[ft]=i,w(e,"click",C)),G.cache[i]=G.makeObject(e,n)},G.removeCache=function(e){x(e,"click",C),delete G.cache[e[ft]],e[ft]=null},G.getCache=function(e){var t=e[ft];return t in G.cache&&G.cache[t]},G.clearCache=function(){for(var e in G.cache)G.removeCache(G.cache[e].link);G.cache={}},G.find=function(){function e(t){for(var n,i="",r=0;t[r];r++)n=t[r],3===n.nodeType||4===n.nodeType?i+=n.nodeValue:8!==n.nodeType&&(i+=e(n.childNodes));return i}function n(e,t,n,i,r,o){for(var a=0,l=i.length;l>a;a++){var s=i[a];if(s){s=s[e];for(var u=!1;s;){if(s.sizcache===n){u=i[s.sizset];break}if(1!==s.nodeType||o||(s.sizcache=n,s.sizset=a),s.nodeName.toLowerCase()===t){u=s;break}s=s[e]}i[a]=u}}}function i(e,t,n,i,r,o){for(var a=0,l=i.length;l>a;a++){var s=i[a];if(s){s=s[e];for(var c=!1;s;){if(s.sizcache===n){c=i[s.sizset];break}if(1===s.nodeType)if(o||(s.sizcache=n,s.sizset=a),"string"!=typeof t){if(s===t){c=!0;break}}else if(u.filter(t,[s]).length>0){c=s;break}s=s[e]}i[a]=c}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=0,a=Object.prototype.toString,l=!1,s=!0;[0,0].sort(function(){return s=!1,0});var u=function(e,t,n,i){n=n||[];var o=t=t||document;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;for(var l,s,d,h,v=[],b=!0,w=y(t),x=e;null!==(r.exec(""),l=r.exec(x));)if(x=l[3],v.push(l[1]),l[2]){h=l[3];break}if(v.length>1&&f.exec(e))if(2===v.length&&c.relative[v[0]])s=g(v[0]+v[1],t);else for(s=c.relative[v[0]]?[t]:u(v.shift(),t);v.length;)e=v.shift(),c.relative[e]&&(e+=v.shift()),s=g(e,s);else{if(!i&&v.length>1&&9===t.nodeType&&!w&&c.match.ID.test(v[0])&&!c.match.ID.test(v[v.length-1])){var T=u.find(v.shift(),t,w);t=T.expr?u.filter(T.expr,T.set)[0]:T.set[0]}if(t){var T=i?{expr:v.pop(),set:p(i)}:u.find(v.pop(),1!==v.length||"~"!==v[0]&&"+"!==v[0]||!t.parentNode?t:t.parentNode,w);for(s=T.expr?u.filter(T.expr,T.set):T.set,v.length>0?d=p(s):b=!1;v.length;){var k=v.pop(),C=k;c.relative[k]?C=v.pop():k="",null==C&&(C=t),c.relative[k](d,C,w)}}else d=v=[]}if(d||(d=s),!d)throw"Syntax error, unrecognized expression: "+(k||e);if("[object Array]"===a.call(d))if(b)if(t&&1===t.nodeType)for(var E=0;null!=d[E];E++)d[E]&&(d[E]===!0||1===d[E].nodeType&&m(t,d[E]))&&n.push(s[E]);else for(var E=0;null!=d[E];E++)d[E]&&1===d[E].nodeType&&n.push(s[E]);else n.push.apply(n,d);else p(d,n);return h&&(u(h,o,n,i),u.uniqueSort(n)),n};u.uniqueSort=function(e){if(v&&(l=s,e.sort(v),l))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},u.matches=function(e,t){return u(e,null,null,t)},u.find=function(e,t,n){var i,r;if(!e)return[];for(var o=0,a=c.order.length;a>o;o++){var r,l=c.order[o];if(r=c.leftMatch[l].exec(e)){var s=r[1];if(r.splice(1,1),"\\"!==s.substr(s.length-1)&&(r[1]=(r[1]||"").replace(/\\/g,""),i=c.find[l](r,t,n),null!=i)){e=e.replace(c.match[l],"");break}}}return i||(i=t.getElementsByTagName("*")),{set:i,expr:e}},u.filter=function(e,n,i,r){for(var o,a,l=e,s=[],u=n,f=n&&n[0]&&y(n[0]);e&&n.length;){for(var d in c.filter)if(null!=(o=c.match[d].exec(e))){var p,h,v=c.filter[d];if(a=!1,u===s&&(s=[]),c.preFilter[d])if(o=c.preFilter[d](o,u,i,s,r,f)){if(o===!0)continue}else a=p=!0;if(o)for(var m=0;null!=(h=u[m]);m++)if(h){p=v(h,o,m,u);var g=r^!!p;i&&null!=p?g?a=!0:u[m]=!1:g&&(s.push(h),a=!0)}if(p!==t){if(i||(u=s),e=e.replace(c.match[d],""),!a)return[];break}}if(e===l){if(null==a)throw"Syntax error, unrecognized expression: "+e;break}l=e}return u};var c=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!/\W/.test(t),r=n&&!i;i&&(t=t.toLowerCase());for(var o,a=0,l=e.length;l>a;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=r||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}r&&u.filter(t,e,!0)},">":function(e,t){var n="string"==typeof t;if(n&&!/\W/.test(t)){t=t.toLowerCase();for(var i=0,r=e.length;r>i;i++){var o=e[i];if(o){var a=o.parentNode;e[i]=a.nodeName.toLowerCase()===t?a:!1}}}else{for(var i=0,r=e.length;r>i;i++){var o=e[i];o&&(e[i]=n?o.parentNode:o.parentNode===t)}n&&u.filter(t,e,!0)}},"":function(e,t,r){var a=o++,l=i;if("string"==typeof t&&!/\W/.test(t)){var s=t=t.toLowerCase();l=n}l("parentNode",t,a,e,s,r)},"~":function(e,t,r){var a=o++,l=i;if("string"==typeof t&&!/\W/.test(t)){var s=t=t.toLowerCase();l=n}l("previousSibling",t,a,e,s,r)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;o>r;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return 0===n.length?null:n}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(/\\/g,"")+" ",o)return e;for(var a,l=0;null!=(a=t[l]);l++)a&&(r^(a.className&&(" "+a.className+" ").replace(/[\t\n]/g," ").indexOf(e)>=0)?n||i.push(a):n&&(t[l]=!1));return!1},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(e){return e[1].toLowerCase()},CHILD:function(e){if("nth"===e[1]){var t=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}return e[0]=o++,e},ATTR:function(e,t,n,i,r,o){var a=e[1].replace(/\\/g,"");return!o&&c.attrMap[a]&&(e[1]=c.attrMap[a]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,o){if("not"===e[1]){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=u.filter(e[3],t,n,!0^o);return n||i.push.apply(i,a),!1}e[3]=u(e[3],null,null,t)}else if(c.match.POS.test(e[0])||c.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!u(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"button"===e.nodeName.toLowerCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(t,n,i,r){var o=n[1],a=c.filters[o];if(a)return a(t,i,n,r);if("contains"===o)return(t.textContent||t.innerText||e([t])||"").indexOf(n[3])>=0;if("not"===o){for(var l=n[3],i=0,s=l.length;s>i;i++)if(l[i]===t)return!1;return!0}throw"Syntax error, unrecognized expression: "+o},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===n)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0;case"nth":var r=t[2],o=t[3];if(1===r&&0===o)return!0;var a=t[0],l=e.parentNode;if(l&&(l.sizcache!==a||!e.nodeIndex)){var s=0;for(i=l.firstChild;i;i=i.nextSibling)1===i.nodeType&&(i.nodeIndex=++s);l.sizcache=a}var u=e.nodeIndex-o;return 0===r?0===u:u%r===0&&u/r>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=c.attrHandle[n]?c.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],a=t[4];return null==i?"!="===o:"="===o?r===a:"*="===o?r.indexOf(a)>=0:"~="===o?(" "+r+" ").indexOf(a)>=0:a?"!="===o?r!==a:"^="===o?0===r.indexOf(a):"$="===o?r.substr(r.length-a.length)===a:"|="===o?r===a||r.substr(0,a.length+1)===a+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],o=c.setFilters[r];return o?o(e,n,t,i):void 0}}},f=c.match.POS;for(var d in c.match)c.match[d]=new RegExp(c.match[d].source+/(?![^\[]*\])(?![^\(]*\))/.source),c.leftMatch[d]=new RegExp(/(^(?:.|\r|\n)*?)/.source+c.match[d].source);var p=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(h){p=function(e,t){var n=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)n.push(e[i]);else for(var i=0;e[i];i++)n.push(e[i]);return n}}var v;document.documentElement.compareDocumentPosition?v=function(e,t){if(!e.compareDocumentPosition||!t.compareDocumentPosition)return e==t&&(l=!0),e.compareDocumentPosition?-1:1;var n=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0===n&&(l=!0),n}:"sourceIndex"in document.documentElement?v=function(e,t){if(!e.sourceIndex||!t.sourceIndex)return e==t&&(l=!0),e.sourceIndex?-1:1;var n=e.sourceIndex-t.sourceIndex;return 0===n&&(l=!0),n}:document.createRange&&(v=function(e,t){if(!e.ownerDocument||!t.ownerDocument)return e==t&&(l=!0),e.ownerDocument?-1:1;var n=e.ownerDocument.createRange(),i=t.ownerDocument.createRange();n.setStart(e,0),n.setEnd(e,0),i.setStart(t,0),i.setEnd(t,0);var r=n.compareBoundaryPoints(Range.START_TO_END,i);return 0===r&&(l=!0),r}),function(){var e=document.createElement("div"),n="script"+(new Date).getTime();e.innerHTML="<a name='"+n+"'/>";var i=document.documentElement;i.insertBefore(e,i.firstChild),document.getElementById(n)&&(c.find.ID=function(e,n,i){if("undefined"!=typeof n.getElementById&&!i){var r=n.getElementById(e[1]);return r?r.id===e[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:t:[]}},c.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(c.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(c.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&!function(){var e=u,t=document.createElement("div");if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){u=function(t,n,i,r){if(n=n||document,!r&&9===n.nodeType&&!y(n))try{return p(n.querySelectorAll(t),i)}catch(o){}return e(t,n,i,r)};for(var n in e)u[n]=e[n];t=null}}(),function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(c.order.splice(1,0,"CLASS"),c.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}();var m=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(e.contains?e.contains(t):!0)},y=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},g=function(e,t){for(var n,i=[],r="",o=t.nodeType?[t]:t;n=c.match.PSEUDO.exec(e);)r+=n[0],e=e.replace(c.match.PSEUDO,"");e=c.relative[e]?e+"*":e;for(var a=0,l=o.length;l>a;a++)u(e,o[a],i);return u.filter(r,i)};return u}(),G.lang={code:"en",of:"of",loading:"loading",cancel:"Cancel",next:"Next",previous:"Previous",play:"Play",pause:"Pause",close:"Close",errors:{single:'You must install the <a href="{0}">{1}</a> browser plugin to view this content.',shared:'You must install both the <a href="{0}">{1}</a> and <a href="{2}">{3}</a> browser plugins to view this content.',either:'You must install either the <a href="{0}">{1}</a> or the <a href="{2}">{3}</a> browser plugin to view this content.'}};var pt,ht,vt,mt,yt="sb-drag-proxy";G.img=function(e,t){this.obj=e,this.id=t,this.ready=!1;var n=this;pt=new Image,pt.onload=function(){n.height=e.height?parseInt(e.height,10):pt.height,n.width=e.width?parseInt(e.width,10):pt.width,n.ready=!0,pt.onload=null,pt=null},pt.src=e.content},G.img.ext=["bmp","gif","jpg","jpeg","png"],G.img.prototype={append:function(e,t){var n=document.createElement("img");n.id=this.id,n.src=this.obj.content,n.style.position="absolute";var i,r;t.oversized&&"resize"==G.options.handleOversize?(i=t.innerHeight,r=t.innerWidth):(i=this.height,r=this.width),n.setAttribute("height",i),n.setAttribute("width",r),e.appendChild(n)},remove:function(){var e=h(this.id);e&&v(e),L(),pt&&(pt.onload=null,pt=null)},onLoad:function(){var e=G.dimensions;e.oversized&&"drag"==G.options.handleOversize&&S()},onWindowResize:function(){var e=G.dimensions;switch(G.options.handleOversize){case"resize":var t=h(this.id);t.height=e.innerHeight,t.width=e.innerWidth;break;case"drag":if(mt){var n=parseInt(G.getStyle(mt,"top")),i=parseInt(G.getStyle(mt,"left"));n+this.height<e.innerHeight&&(mt.style.top=e.innerHeight-this.height+"px"),i+this.width<e.innerWidth&&(mt.style.left=e.innerWidth-this.width+"px"),O()}}}};var gt,bt,wt,xt=!1,Tt=[],kt=["sb-nav-close","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],Ct=!0,Et={};Et.markup='<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>{loading}</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div><div id="sb-nav"><a id="sb-nav-close" title="{close}" onclick="Shadowbox.close()"></a><a id="sb-nav-next" title="{next}" onclick="Shadowbox.next()"></a><a id="sb-nav-play" title="{play}" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" title="{pause}" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" title="{previous}" onclick="Shadowbox.previous()"></a></div></div></div></div></div>',Et.options={animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:!0,displayNav:!0,fadeDuration:.35,initialHeight:160,initialWidth:320,modal:!1,overlayColor:"#000",overlayOpacity:.5,resizeDuration:.35,showOverlay:!0,troubleElements:["select","object","embed","canvas"]},Et.init=function(){if(G.appendHTML(document.body,d(Et.markup,G.lang)),Et.body=h("sb-body-inner"),gt=h("sb-container"),bt=h("sb-overlay"),wt=h("sb-wrapper"),rt||(gt.style.position="absolute"),!it){var t,n,i=/url\("(.*\.png)"\)/;f(kt,function(e,r){t=h(r),t&&(n=G.getStyle(t,"backgroundImage").match(i),n&&(t.style.backgroundImage="none",t.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+n[1]+",sizingMethod=scale);"))})}var r;w(e,"resize",function(){r&&(clearTimeout(r),r=null),Z&&(r=setTimeout(Et.onWindowResize,10))
})},Et.onOpen=function(t,n){Ct=!1,gt.style.display="block",M();var i=_(G.options.initialHeight,G.options.initialWidth);R(i.innerHeight,i.top),j(i.width,i.left),G.options.showOverlay&&(bt.style.backgroundColor=G.options.overlayColor,G.setOpacity(bt,0),G.options.modal||w(bt,"click",G.close),xt=!0),rt||(F(),w(e,"scroll",F)),z(),gt.style.visibility="visible",xt?A(bt,"opacity",G.options.overlayOpacity,G.options.fadeDuration,n):n()},Et.onLoad=function(e,t){for(P(!0);Et.body.firstChild;)v(Et.body.firstChild);B(e,function(){Z&&(e||(wt.style.visibility="visible"),q(t))})},Et.onReady=function(e){if(Z){var t=G.player,n=_(t.height,t.width),i=function(){W(e)};switch(G.options.animSequence){case"hw":R(n.innerHeight,n.top,!0,function(){j(n.width,n.left,!0,i)});break;case"wh":j(n.width,n.left,!0,function(){R(n.innerHeight,n.top,!0,i)});break;default:j(n.width,n.left,!0),R(n.innerHeight,n.top,!0,i)}}},Et.onShow=function(e){P(!1,e),Ct=!0},Et.onClose=function(){rt||x(e,"scroll",F),x(bt,"click",G.close),wt.style.visibility="hidden";var t=function(){gt.style.visibility="hidden",gt.style.display="none",z(!0)};xt?A(bt,"opacity",0,G.options.fadeDuration,t):t()},Et.onPlay=function(){H("play",!1),H("pause",!0)},Et.onPause=function(){H("pause",!1),H("play",!0)},Et.onWindowResize=function(){if(Ct){M();var e=G.player,t=_(e.height,e.width);j(t.width,t.left),R(t.innerHeight,t.top),e.onWindowResize&&e.onWindowResize()}},G.skin=Et,e.Shadowbox=G}(window);